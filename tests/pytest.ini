[pytest]
# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test* *Test
python_functions = test_*

# Test paths
testpaths = .
norecursedirs = .git .tox venv __pycache__ *.egg-info

# Output options
addopts =
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    --color=yes
    --capture=no
    --maxfail=5
    --html=reports/test_report.html
    --self-contained-html
    --json-report
    --json-report-file=reports/test_report.json

# Markers for test categorization
markers =
    integration: Integration tests that test API endpoints
    slow: Tests that take a long time to run
    auth: Tests related to authentication
    api: Tests for API endpoints
    database: Tests that require database
    external: Tests that require external services
    smoke: Smoke tests for critical functionality
    regression: Regression tests
    security: Security-related tests

# Asyncio configuration
asyncio_mode = auto

# Timeout settings (in seconds)
timeout = 300
timeout_method = thread

# Environment variables
env =
    ENVIRONMENT=test
    LOG_LEVEL=DEBUG

